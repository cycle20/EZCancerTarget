--
-- binding_test.sql:
-- -----------------
--
-- unit test of binding_query.sql
--

-- NAME_A,UNI_A,EXTERN_A,NAME_B,UNI_B,EXTERN_B,A,B,IS_DIRECTIONAL
-- A1BG,P04217,9606.ENSP00000263100,PIK3CA,P42336,9606.ENSP00000263967,4435199,4435346,0
-- A1BG,P04217,9606.ENSP00000263100,PIK3CA,P42336,9606.ENSP00000263967,4435199,4435346,1
-- A1BG,P04217,9606.ENSP00000263100,PIK3R1,P27986,9606.ENSP00000428056,4435199,4449428,0
-- A1BG,P04217,9606.ENSP00000263100,PIK3R1,P27986,9606.ENSP00000428056,4435199,4449428,1
-- A1BG,P04217,9606.ENSP00000263100,PTPN11,Q06124,9606.ENSP00000340944,4435199,4441096,0
-- A1BG,P04217,9606.ENSP00000263100,PTPN11,Q06124,9606.ENSP00000340944,4435199,4441096,1
-- A1BG,P04217,9606.ENSP00000263100,SOS1,Q07889,9606.ENSP00000387784,4435199,4447527,0
-- A1BG,P04217,9606.ENSP00000263100,SOS1,Q07889,9606.ENSP00000387784,4435199,4447527,1
-- ABCB1,P08183,9606.ENSP00000478255,TLR4,O00206,9606.ENSP00000363089,4451279,4444300,0
-- ABI1,Q8IZP0,9606.ENSP00000365312,AKT1,P31749,9606.ENSP00000451828,4444683,4450372,0
-- 
-- 
-- 

select * from(
select
  NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL
from LAYER3
except
select
  NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL
from NEG_BINDINGS
)
limit 10
;


--
-- LAYER3_TEST
--
select
  case count(*)
    when 12860 then 'PASSED'
    else 'FAILED/CHANGED'
  end as LAYER3_TEST
from LAYER3;

--
-- POS_BINDINDS_TEST
--
select
  case count(*)
    when 10787 then 'PASSED'
    else 'FAILED/CHANGED'
  end as POS_BINDINDS_TEST
from POS_BINDINGS;

--
-- NEG_BINDINDS_TEST
--
select
  case count(*)
    when 90 then 'PASSED'
    else 'FAILED/CHANGED'
  end as NEG_BINDINDS_TEST
from NEG_BINDINGS;

--
-- CALC1__L3_minus_NEG_BINDINGS_TEST
--
select
  case count(*)
    when 12367 then 'PASSED'
    else 'FAILED/CHANGED'
  end as CALC1__L3_minus_NEG_BINDINGS_TEST
from(
  select
    NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL
  from LAYER3
  except
  select
    NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL
  from NEG_BINDINGS
  )
;

--
-- CALC2__L3_minus_NEG_BINDINGS_with_SCOREs_TEST
--
--
select
  case count(*)
    when 12680 then 'PASSED'
    else 'FAILED/CHANGED'
  end as CALC2__L3_minus_NEG_BINDINGS_with_SCOREs_TEST
from(
  select
    NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL, SCORE
  from LAYER3
  except
  select
    NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL, SCORE
  from NEG_BINDINGS
)
;




--- NAME_A, UNI_A, EXTERN_A, NAME_B, UNI_B, EXTERN_B, A, B, IS_DIRECTIONAL, SCORE
